(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{104:function(e,t,n){e.exports=n(270)},109:function(e,t,n){},110:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(57),c=n.n(i),r=(n(109),n(6)),l=n(7),s=n(10),u=n(8),h=n(5),d=n(9),p=(n(110),n(29)),m=(n(118),n(64),n(119),n(95)),v=n.n(m),f=n(97),b=n.n(f);p.initializeApp({apiKey:"AIzaSyCg4kjjppXHdL2NlgvYVSwUITRip6Uuq68",authDomain:"notes-react-7aad5.firebaseapp.com",databaseURL:"https://notes-react-7aad5.firebaseio.com",projectId:"notes-react-7aad5",storageBucket:"notes-react-7aad5.appspot.com",messagingSenderId:"745029342191",appId:"1:745029342191:web:69ac6c2b5138af0daedc1a",measurementId:"G-YHYJZZ5MHN"});var E={signInFlow:"popup",signInSuccessUrl:"/notes-react",signInOptions:[p.auth.GoogleAuthProvider.PROVIDER_ID]},y=function(){return o.a.createElement(b.a,{style:{maxWidth:500},src:"https://cdn4.iconfinder.com/data/icons/office-55/256/4-512.png"})},O=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y,null),o.a.createElement("p",null,"You need to sign-in"),o.a.createElement(v.a,{uiConfig:E,firebaseAuth:p.auth()}))}}]),t}(o.a.Component),k=p,j=(n(135),n(136),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.onClick;return console.log(t),o.a.createElement("div",null,o.a.createElement("div",{className:"card note",onClick:a},t&&o.a.createElement("div",{className:"note-title"},t),o.a.createElement("div",{className:"note-content",dangerouslySetInnerHTML:{__html:n}})))}}]),t}(a.PureComponent)),g=n(98),A=n.n(g),N=n(28),w={fitWidth:!0},C={width:240,textDecoration:"none",color:"inherit"},D=function(e){var t=e.notes;return o.a.createElement("div",null,o.a.createElement(A.a,{className:"note-list-container",options:w},t.map((function(e,t){return o.a.createElement(N.b,{key:t,to:"/notes/".concat(e.key),onClick:function(t){return function(e,t){window.activeNote={note:e,layout:t.currentTarget.getBoundingClientRect()}}(e,t)},style:C},o.a.createElement(j,{title:e.title,description:e.content}))}))))},S=n(39),I=n(103),R=n(101),_=n(19),x=(n(264),n(102)),U=(n(265),n(4)),W=(n(266),function(e){var t=Object(U.a)({},e);return o.a.createElement("input",t)}),T=(n(267),function(e){var t=e.children,n=Object(S.a)(e,["children"]);return o.a.createElement("button",n,t)}),B=(n(268),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleResize=function(e){var t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(U.a)({},this.props);return o.a.createElement("textarea",Object.assign({},e,{onInput:this.handleResize}))}}]),t}(a.Component)),L={title:{value:""},content:{value:""}},P=function(e){return{title:{value:e.title},content:{value:e.content}}},z=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;n.setState(Object(x.a)({},t,{value:e.target.value}))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.onSubmit,o=t.note,i={title:n.state.title.value,content:n.state.content.value.replace(/\n/g,"</br>")};o&&(i.key=o.key),a(i),n.setState(L)},n.getValue=function(e){return n.state[e].value},n.handleDelete=function(e){e.preventDefault(),n.props.onDelete&&n.props.onDelete(n.props.note)},n.handleArchive=function(e){e.preventDefault(),n.props.onArchive&&n.props.onArchive(n.props.note)},n.handleArchive=n.handleArchive.bind(Object(h.a)(n)),n.handleDelete=n.handleDelete.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n));var a=L;return e.note&&(a=P(e.note)),n.state=a,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isEdit,t=this.props.isArchive;return o.a.createElement("div",{className:"card composer-container ".concat(e?"edit":"")},o.a.createElement("form",{onSubmit:this.handleSubmit,className:"input-form"},o.a.createElement(W,{type:"text",name:"title",placeholder:"Title",autoFocus:!0,value:this.getValue("title"),onChange:this.handleChange}),o.a.createElement(B,{className:"note-content",name:"content",placeholder:"Take a note...",value:this.getValue("content"),onChange:this.handleChange}),o.a.createElement("div",{className:"actions"},e&&o.a.createElement(T,{className:"delbtn",onClick:this.handleDelete},"Delete"),e&&!t&&o.a.createElement(T,{onClick:this.handleArchive},"Archive"),o.a.createElement(T,null,"Done"))))}}]),t}(a.Component),H=[{opacity:0},{opacity:.75}],V={duration:500,easing:"cubic-bezier(0.25, 0.8, 0.25, 1)"},M=function(e){var t=[];if(window.activeNote){var n=window.activeNote.layout.width/e.width,a=window.activeNote.layout.height/e.height;t.push({transform:"translate(".concat(window.activeNote.layout.left,"px, ").concat(window.activeNote.layout.top,"px) scale(").concat(n,", ").concat(a,")"),opacity:0})}var o=window.innerWidth/2-e.width/2;return t.push({transform:"translate(".concat(o,"px, 180px) scale(1, 1)"),opacity:1}),t},Y=([].concat([{opacity:0},{opacity:1}]).reverse(),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={active:!1},e.setWrapperRef=e.setWrapperRef.bind(Object(h.a)(e)),e.handleClickOutside=e.handleClickOutside.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillEnter",value:function(e){var t=this;this._modalBackdrop.animate(H,V);var n=this._modalContent.getBoundingClientRect(),a=M(n),o=this._modalContent.animate(a,V);o.onfinish=function(){var a=window.innerWidth/2-n.width/2;t._modalContent.style.transform="translate(".concat(a,"px , 180px)"),e()},o.play()}},{key:"startAnimation",value:function(){}},{key:"componentDidEnter",value:function(){this._modal.classList.add("active")}},{key:"componentDidAppear",value:function(){this._modal.classList.add("active")}},{key:"componentWillLeave",value:function(e){this._modalBackdrop.animate([].concat(H).reverse(),V);var t=this._modalContent.getBoundingClientRect(),n=M(t),a=this._modalContent.animate(Object(I.a)(n).reverse(),V);a.onfinish=e,a.play()}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&window.history.back()}},{key:"render",value:function(){var e=this,t=this.state.active?"active":"",n=this.props,a=n.note,i=n.onUpdate,c=n.onDelete,r=n.onArchive,l=n.isArchive;return o.a.createElement("div",{ref:this.setWrapperRef},o.a.createElement("div",{className:"box-fill modal ".concat(t),ref:function(t){return e._modal=t}},o.a.createElement("div",{className:"box-fill modal-backdrop",ref:function(t){return e._modalBackdrop=t},onClick:this.startAnimation}),o.a.createElement("div",{className:"modal-content",ref:function(t){return e._modalContent=t}},o.a.createElement(z,{note:a,isEdit:!0,isArchive:l,onSubmit:i,onDelete:c,onArchive:r}))))}}]),t}(a.Component)),G=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.onUpdate,a=e.onDelete,i=e.onArchive,c=e.isArchive;return o.a.createElement(_.a,{path:"/notes/:noteId",children:function(e){var r,l=e.match;Object(S.a)(e,["match"]);return l&&(r=t.find((function(e){return e.key===l.params.noteId}))),o.a.createElement(R.TransitionGroup,{component:"div",className:"animated-list"},l&&r&&o.a.createElement(Y,{isArchive:c,onUpdate:n,onDelete:a,onArchive:i,note:r}))}})}}]),t}(a.Component),J=(n(269),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y,null),o.a.createElement("p",{className:"welcome-title"},"Welcome!"))}}]),t}(a.Component)),F=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).updateData=function(){Object(h.a)(n);var e=k.auth().currentUser;n.state.opt;null!==e?(n.ref.doc(e.email).collection("archive").onSnapshot((function(t){var a=[];t.forEach((function(e){var t=e.data(),n=t.title,o=t.content;a.push({key:e.id,doc:e,title:n,content:o})})),n.setState({user:e,archive:a,loading:!1})})),n.ref.doc(e.email).collection("notes").onSnapshot((function(t){var a=[];t.forEach((function(e){var t=e.data(),n=t.title,o=t.content;a.push({key:e.id,doc:e,title:n,content:o})})),n.setState({user:e,notes:a,loading:!1})}))):setTimeout(n.updateData,50)},n.handleAddNote=function(e){var t=n.state.user,a=n.state.opt;n.ref.doc(t.email).collection(a).add(e).then((function(e){n.props.history.push("/")})).catch((function(e){console.error("Error adding note: ",e)}))},n.handleUpdateNote=function(e){var t=n.state.user,a=n.state.opt,o=n.ref.doc(t.email).collection(a).doc(e.key),i=e.title,c=e.content;o.set({title:i,content:c}).then((function(e){console.log("Note successfully updated"),window.history.back()})).catch((function(e){console.error("Error adding document: ",e)}))},n.handleDeleteNote=function(e){var t=n.state.user,a=n.state.opt;k.firestore().collection("notes").doc(t.email).collection(a).doc(e.key).delete().then((function(){console.log("Note successfully deleted!"),window.history.back()})).catch((function(e){console.error("Error removing note: ",e)}))},n.handleArchive=function(e){var t=n.state.user,a={title:e.title,content:e.content};n.ref.doc(t.email).collection("archive").add(a).then((function(t){n.handleDeleteNote(e),n.props.history.push("/")})).catch((function(e){console.error("Error archiving note: ",e)}))},n.handleDeleteNote=n.handleDeleteNote.bind(Object(h.a)(n)),n.handleAddNote=n.handleAddNote.bind(Object(h.a)(n)),n.handleArchive=n.handleArchive.bind(Object(h.a)(n)),n.handleNotes=n.handleNotes.bind(Object(h.a)(n)),n.handleArchiveClick=n.handleArchiveClick.bind(Object(h.a)(n)),n.ref=k.firestore().collection("notes"),n.state={user:null,opt:"notes",notes:[],archive:[],loading:!0,timePassed:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setTimePassed()}),3e3),this.setState({user:null,notes:[],archive:[]}),this.updateData()}},{key:"setTimePassed",value:function(){this.setState({timePassed:!0})}},{key:"handleNotes",value:function(){this.setState({opt:"notes",notes:[],loading:!0}),this.updateData()}},{key:"handleArchiveClick",value:function(){this.setState({opt:"archive",notes:[],loading:!0}),this.updateData()}},{key:"render",value:function(){var e=this.state.timePassed,t=this.state.notes,n=this.state.archive,a=this.state.user,i=this.state.loading,c=this.state.opt;return o.a.createElement("div",{className:"App"},e?o.a.createElement("div",null,null===a?o.a.createElement(O,null):o.a.createElement("div",null,i&&t.length<=0?o.a.createElement("div",null,"loading..."):o.a.createElement("div",null,"notes"===c?o.a.createElement("div",null,o.a.createElement(z,{onSubmit:this.handleAddNote}),o.a.createElement(T,{onClick:this.handleNotes},"Notes"),o.a.createElement(T,{onClick:this.handleArchiveClick},"Archived"),o.a.createElement(D,{notes:t,onDelete:this.handleDeleteNote,onArchive:this.handleArchive}),o.a.createElement(G,{onUpdate:this.handleUpdateNote,onDelete:this.handleDeleteNote,onArchive:this.handleArchive,notes:t,location:this.props.location,isArchive:"notes"!==c})):o.a.createElement("div",null,o.a.createElement(T,{onClick:this.handleNotes},"Notes"),o.a.createElement(T,{onClick:this.handleArchiveClick},"Archived"),o.a.createElement(D,{notes:n,onDelete:this.handleDeleteNote,onArchive:this.handleArchive}),o.a.createElement(G,{onUpdate:this.handleUpdateNote,onDelete:this.handleDeleteNote,onArchive:this.handleArchive,notes:n,location:this.props.location,isArchive:"notes"!==c}))))):o.a.createElement("div",null,o.a.createElement(J,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement((function(){return o.a.createElement(N.a,null,o.a.createElement(_.a,{path:"/",component:F}),o.a.createElement(_.a,{path:"/notes-react",component:F}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.49914c7c.chunk.js.map