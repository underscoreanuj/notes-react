{"version":3,"sources":["Firebase.js","components/Note/index.js","components/NoteList/index.js","components/Input/index.js","components/Button/index.js","components/Textarea/index.js","components/Composer/index.js","components/NoteDetail/index.js","App.js","serviceWorker.js","index.js"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Note","this","props","title","description","onClick","className","dangerouslySetInnerHTML","__html","PureComponent","options","fitWidth","noteStyle","width","textDecoration","color","NoteList","notes","map","note","index","key","to","event","window","activeNote","layout","currentTarget","getBoundingClientRect","handleClick","style","content","Input","other","Button","children","Textarea","handleResize","e","element","target","height","scrollHeight","onInput","Component","initialState","value","noteToState","Composer","handleChange","fieldName","name","setState","handleSubmit","preventDefault","onSubmit","newNote","state","replace","getValue","handleDelete","onDelete","isEdit","type","placeholder","autoFocus","onChange","fadeInBackdrop","opacity","defaultAnimationTiming","duration","easing","getTranformation","boundingRect","keyFrames","scaledWidth","scaledHeight","push","transform","left","top","targetLeft","innerWidth","NoteDetail","reverse","active","setWrapperRef","bind","handleClickOutside","document","addEventListener","removeEventListener","callback","_modalBackdrop","animate","modalLayout","_modalContent","tranformation","fadeInAnimation","onfinish","play","_modal","classList","add","fadeOutAnimation","node","wrapperRef","contains","history","back","modalClass","onUpdate","ref","startAnimation","NoteDetailTransition","path","foundNote","match","find","params","noteId","component","App","updateData","querySnapshot","thisComp","forEach","doc","data","id","loading","handleAddNote","then","docRef","catch","error","console","log","handleUpdateNote","updateRef","firestore","collection","set","handleDeleteNote","delete","onSnapshot","location","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.de1fcffb.chunk.js","sourcesContent":["import * as firebase from 'firebase';\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n\nconst config = {\n    apiKey: \"AIzaSyCg4kjjppXHdL2NlgvYVSwUITRip6Uuq68\",\n    authDomain: \"notes-react-7aad5.firebaseapp.com\",\n    databaseURL: \"https://notes-react-7aad5.firebaseio.com\",\n    projectId: \"notes-react-7aad5\",\n    storageBucket: \"notes-react-7aad5.appspot.com\",\n    messagingSenderId: \"745029342191\",\n    appId: \"1:745029342191:web:69ac6c2b5138af0daedc1a\",\n    measurementId: \"G-YHYJZZ5MHN\"\n};\n\nfirebase.initializeApp(config);\n// firebase.analytics();\n\nexport default firebase;\n\n","import React, { PureComponent } from 'react';\nimport './note.css';\n\nclass Note extends PureComponent {\n  render() {\n    const { title, description, onClick } = this.props;\n    return (\n      <div>\n        <div className=\"card note\" onClick={onClick}>\n          {title && <div className=\"note-title\">{title}</div>}\n          <div className=\"note-content\" dangerouslySetInnerHTML={{__html: description}}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Note;\n","import React from 'react';\nimport './note-list.css';\nimport Note from '../Note';\nimport Mansory from 'react-masonry-component';\nimport { Link } from 'react-router-dom';\n\nconst options = {\n  fitWidth: true\n};\n\nconst noteStyle = {\n  width: 240,\n  textDecoration: 'none',\n  color: 'inherit'\n};\n\nconst handleClick = (note, event) => {\n  window.activeNote = {\n    note,\n    layout: event.currentTarget.getBoundingClientRect()\n  }\n  \n}\n\nconst NoteList = ({ notes }) => {\n  return (\n    <Mansory className=\"note-list-container\" options={options}>\n      {notes.map((note, index) =>\n        <Link key={index} to={`/notes/${note.key}`} onClick={event => handleClick(note, event)} style={noteStyle}>\n          <Note title={note.title} description={note.content} />\n        </Link>\n      )}\n    </Mansory>\n  );\n};\n\nexport default NoteList;\n","import React from 'react';\nimport './input.css';\n\nconst Input = ({ ...other }) => {\n  return (\n    <input {...other}/>\n  );\n};\n\nexport default Input;","import React from 'react';\nimport './button.css';\n\nconst Button = ({ children, ...other }) => {\n  return (\n    <button {...other}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport './textarea.css';\n\nclass Textarea extends Component {\n  handleResize = e => {\n    const element = e.target\n\n    element.style.height = 'auto';\n    element.style.height = element.scrollHeight + 'px';\n  }\n\n  render() {\n    const { ...other } = this.props;\n    return (\n      <textarea {...other}\n        onInput={this.handleResize}\n      />\n    );\n  }\n}\n\nexport default Textarea;","import React, { Component } from 'react';\nimport './composer.css';\nimport Input from '../Input';\nimport Button from '../Button';\nimport Textarea from '../Textarea';\n\nconst initialState = {\n  title: {\n    value: ''\n  },\n  content: {\n    value: ''\n  }\n};\n\nconst noteToState = note => {\n  return {\n    title: {\n      value: note.title,\n    },\n    content: {\n      value: note.content,\n    }\n  };\n}\n\nclass Composer extends Component {\n  constructor(props) {\n    super(props);\n\n    let state = initialState;\n    if (props.note) {\n      state = noteToState(props.note);\n    }\n\n    this.state = state;\n  }\n\n  handleChange = event => {\n    const fieldName = event.target.name;\n\n    this.setState({\n      [fieldName]: {\n        value: event.target.value\n      }\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit, note } = this.props;\n\n    // TODO: validate\n\n    const title = this.state.title.value;\n    \n    // convert line break to </br> tag\n    const content = this.state.content.value.replace(/\\n/g, '</br>');\n\n    const newNote = {\n      title,\n      content\n    }\n\n    // update case\n    if (note) {\n      newNote.key = note.key;\n    }\n\n    onSubmit(newNote);\n\n    // reset\n    this.setState(initialState);\n  };\n\n  getValue = fieldName => {\n    return this.state[fieldName].value;\n  };\n\n  handleDelete = event => {\n    event.preventDefault();\n    this.props.onDelete && this.props.onDelete(this.props.note);\n  }\n\n  render() {\n    const { isEdit } = this.props;\n\n    return (\n      <div className={`card composer-container ${isEdit ? 'edit' : ''}`}>\n        <form onSubmit={this.handleSubmit} className=\"input-form\">\n          <Input\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Title\"\n            autoFocus\n            value={this.getValue('title')}\n            onChange={this.handleChange}\n          />\n          <Textarea\n            className=\"note-content\"\n            name=\"content\"\n            placeholder=\"Take a note...\"\n            value={this.getValue('content')}\n            onChange={this.handleChange}\n          />\n\n          <div className=\"actions\">\n            {isEdit && <Button onClick={this.handleDelete}>Delete</Button>}\n            <Button>Done</Button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Composer;\n","import React, { Component } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport { Link, Route } from 'react-router-dom';\nimport './note-detail.css';\nimport Composer from '../Composer';\n\nconst fadeIn = [\n  {\n    opacity: 0\n  },\n  {\n    opacity: 1\n  }\n];\n\nconst fadeInBackdrop = [\n  {\n    opacity: 0\n  },\n  {\n    opacity: 0.75\n  }\n];\n\nconst defaultAnimationTiming = {\n  duration: 500,\n  easing: 'cubic-bezier(0.25, 0.8, 0.25, 1)'\n}\n\nconst getTranformation = (boundingRect) => {\n  const keyFrames = []\n\n  if (window.activeNote) {\n    const scaledWidth = window.activeNote.layout.width / boundingRect.width\n    const scaledHeight = window.activeNote.layout.height / boundingRect.height\n\n    keyFrames.push({\n      transform: `translate(${window.activeNote.layout.left}px, ${window.activeNote.layout.top}px) scale(${scaledWidth}, ${scaledHeight})`,\n      opacity: 0\n    })\n  }\n\n  const targetLeft = window.innerWidth / 2 - boundingRect.width / 2\n\n  keyFrames.push({\n    transform: `translate(${targetLeft}px, 180px) scale(1, 1)`,\n    opacity: 1\n  })\n\n  return keyFrames;\n}\n\nconst fadeOut = [...fadeIn].reverse();\n\nclass NoteDetail extends Component {\n  constructor() {\n    super()\n    this.state = {\n      active: false\n    }\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillEnter(callback) {\n    this._modalBackdrop.animate(fadeInBackdrop, defaultAnimationTiming);\n    \n    const modalLayout = this._modalContent.getBoundingClientRect()\n    const tranformation = getTranformation(modalLayout);\n    const fadeInAnimation = this._modalContent.animate(tranformation, defaultAnimationTiming);\n\n    fadeInAnimation.onfinish = () => {\n      const targetLeft = window.innerWidth / 2 - modalLayout.width / 2\n      this._modalContent.style.transform = `translate(${targetLeft}px , 180px)`\n\n      callback();\n    }\n\n    fadeInAnimation.play();\n  }\n\n  startAnimation() {\n\n  }\n\n  componentDidEnter() {\n    this._modal.classList.add('active')\n  }\n\n  componentDidAppear() {\n    this._modal.classList.add('active')\n  }\n\n  componentWillLeave(callback) {\n    this._modalBackdrop.animate([...fadeInBackdrop].reverse(), defaultAnimationTiming);\n    const modalLayout = this._modalContent.getBoundingClientRect()\n    const tranformation = getTranformation(modalLayout);\n    const fadeOutAnimation = this._modalContent.animate([...tranformation].reverse(), defaultAnimationTiming);\n\n    fadeOutAnimation.onfinish = callback;\n    fadeOutAnimation.play();\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      //alert('You clicked outside of me!');\n      window.history.back();\n    }\n  }\n\n  render() {\n    const modalClass = this.state.active ? 'active' : ''\n    const { note, onUpdate, onDelete } = this.props\n    return (\n      <div ref={this.setWrapperRef}>\n        <div className={`box-fill modal ${modalClass}`} ref={note => (this._modal = note)}>\n          <div className=\"box-fill modal-backdrop\" ref={note => (this._modalBackdrop = note)} onClick={this.startAnimation}/>\n          <div\n            className=\"modal-content\"\n            ref={note => (this._modalContent = note)}>\n            <Composer note={note} isEdit onSubmit={onUpdate} onDelete={onDelete}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass NoteDetailTransition extends Component {\n  render() {\n    const { notes, onUpdate, onDelete } = this.props\n    return (\n      <Route\n        path=\"/notes/:noteId\"\n        children={({ match, ...rest }) => {\n          let foundNote\n          if (match) {\n            foundNote = notes.find(note => note.key === match.params.noteId)\n          }\n          return (\n            <TransitionGroup component=\"div\" className=\"animated-list\">\n              {match && foundNote && <NoteDetail onUpdate={onUpdate} onDelete={onDelete} note={foundNote}/>}\n            </TransitionGroup>\n          );\n        }}\n      />\n    );\n  }\n}\n\nexport default NoteDetailTransition;","import React, {Component} from 'react';\nimport './App.css';\n\nimport firebase from './Firebase';\n\nimport NoteList from './components/NoteList';\nimport NoteDetail from './components/NoteDetail';\nimport Composer from './components/Composer';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleDeleteNote = this.handleDeleteNote.bind(this);\n    this.handleAddNote = this.handleAddNote.bind(this);\n    \n    this.ref = firebase.firestore().collection('notes');\n\n    this.state = {\n      notes: [],\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      notes: []\n    });\n    this.ref.onSnapshot(this.updateData);\n  }\n\n  updateData = (querySnapshot) => {\n    const notes = [];\n    let thisComp = this;\n\n    querySnapshot.forEach((doc) => {\n      const { title, content } = doc.data();\n      notes.push({\n        key: doc.id,\n        doc,\n        title,\n        content,\n      });\n    });\n\n    thisComp.setState({\n      notes,\n      loading: true,\n   });\n\n  }\n\n  handleAddNote = note => {\n\n    const {title, content} = note;\n\n    this.ref.add({\n      title,\n      content\n    }).then((docRef) => {\n      this.setState({\n        title: '',\n        content: '',\n      });\n      this.props.history.push(\"/\")\n    })\n    .catch((error) => {\n      console.error(\"Error adding note: \", error);\n    });\n\n\n    console.log(note);\n  };\n\n  handleUpdateNote = note => {\n    const updateRef = firebase.firestore().collection('notes').doc(note.key);\n    const {title} = note;\n    const {content} = note;\n\n    updateRef.set({\n      title,\n      content\n    }).then((docRef) => {\n      console.log('Note successfully updated');\n      window.history.back();\n    })\n    .catch((error) => {\n      console.error(\"Error adding document: \", error);\n    });\n  };\n\n  handleDeleteNote = note => {\n    firebase.firestore().collection('notes').doc(note.key).delete().then(() => {\n      console.log(\"Note successfully deleted!\");\n      window.history.back();\n    }).catch((error) => {\n      console.error(\"Error removing note: \", error);\n    });\n  };\n\n\n  render() {\n\n    const {notes} = this.state;\n\n    return (\n      <div className=\"App\">\n        <Composer \n            onSubmit={this.handleAddNote} \n        />\n        <NoteList \n            notes={notes} \n            onDelete={this.handleDeleteNote}\n        />\n        <NoteDetail\n          onUpdate={this.handleUpdateNote}\n          onDelete={this.handleDeleteNote}\n          notes={notes}\n          location={this.props.location}\n        />\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nconst Bootstrap = () => {\n    return (\n      <BrowserRouter>\n        <Route path=\"/\" component={App} />\n      </BrowserRouter>\n    );\n  };\n\nReactDOM.render(<Bootstrap />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}