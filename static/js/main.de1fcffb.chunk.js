(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(55),c=n.n(i),r=(n(103),n(8)),l=n(9),s=n(11),u=n(10),d=n(15),h=n(12),p=(n(104),n(56));n(112),n(113),n(114);p.initializeApp({apiKey:"AIzaSyCg4kjjppXHdL2NlgvYVSwUITRip6Uuq68",authDomain:"notes-react-7aad5.firebaseapp.com",databaseURL:"https://notes-react-7aad5.firebaseio.com",projectId:"notes-react-7aad5",storageBucket:"notes-react-7aad5.appspot.com",messagingSenderId:"745029342191",appId:"1:745029342191:web:69ac6c2b5138af0daedc1a",measurementId:"G-YHYJZZ5MHN"});var m=p,f=(n(115),n(116),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.onClick;return o.a.createElement("div",null,o.a.createElement("div",{className:"card note",onClick:a},t&&o.a.createElement("div",{className:"note-title"},t),o.a.createElement("div",{className:"note-content",dangerouslySetInnerHTML:{__html:n}})))}}]),t}(a.PureComponent)),v=n(92),b=n.n(v),y=n(27),k={fitWidth:!0},O={width:240,textDecoration:"none",color:"inherit"},g=function(e){var t=e.notes;return o.a.createElement(b.a,{className:"note-list-container",options:k},t.map((function(e,t){return o.a.createElement(y.b,{key:t,to:"/notes/".concat(e.key),onClick:function(t){return function(e,t){window.activeNote={note:e,layout:t.currentTarget.getBoundingClientRect()}}(e,t)},style:O},o.a.createElement(f,{title:e.title,description:e.content}))})))},j=n(37),w=n(97),E=n(95),N=n(18),C=(n(246),n(96)),D=(n(247),n(3)),S=(n(248),function(e){var t=Object(D.a)({},e);return o.a.createElement("input",t)}),R=(n(249),function(e){var t=e.children,n=Object(j.a)(e,["children"]);return o.a.createElement("button",n,t)}),_=(n(250),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleResize=function(e){var t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(D.a)({},this.props);return o.a.createElement("textarea",Object.assign({},e,{onInput:this.handleResize}))}}]),t}(a.Component)),x={title:{value:""},content:{value:""}},W=function(e){return{title:{value:e.title},content:{value:e.content}}},A=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;n.setState(Object(C.a)({},t,{value:e.target.value}))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.onSubmit,o=t.note,i={title:n.state.title.value,content:n.state.content.value.replace(/\n/g,"</br>")};o&&(i.key=o.key),a(i),n.setState(x)},n.getValue=function(e){return n.state[e].value},n.handleDelete=function(e){e.preventDefault(),n.props.onDelete&&n.props.onDelete(n.props.note)};var a=x;return e.note&&(a=W(e.note)),n.state=a,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isEdit;return o.a.createElement("div",{className:"card composer-container ".concat(e?"edit":"")},o.a.createElement("form",{onSubmit:this.handleSubmit,className:"input-form"},o.a.createElement(S,{type:"text",name:"title",placeholder:"Title",autoFocus:!0,value:this.getValue("title"),onChange:this.handleChange}),o.a.createElement(_,{className:"note-content",name:"content",placeholder:"Take a note...",value:this.getValue("content"),onChange:this.handleChange}),o.a.createElement("div",{className:"actions"},e&&o.a.createElement(R,{onClick:this.handleDelete},"Delete"),o.a.createElement(R,null,"Done"))))}}]),t}(a.Component),I=[{opacity:0},{opacity:.75}],U={duration:500,easing:"cubic-bezier(0.25, 0.8, 0.25, 1)"},B=function(e){var t=[];if(window.activeNote){var n=window.activeNote.layout.width/e.width,a=window.activeNote.layout.height/e.height;t.push({transform:"translate(".concat(window.activeNote.layout.left,"px, ").concat(window.activeNote.layout.top,"px) scale(").concat(n,", ").concat(a,")"),opacity:0})}var o=window.innerWidth/2-e.width/2;return t.push({transform:"translate(".concat(o,"px, 180px) scale(1, 1)"),opacity:1}),t},L=([].concat([{opacity:0},{opacity:1}]).reverse(),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={active:!1},e.setWrapperRef=e.setWrapperRef.bind(Object(d.a)(e)),e.handleClickOutside=e.handleClickOutside.bind(Object(d.a)(e)),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillEnter",value:function(e){var t=this;this._modalBackdrop.animate(I,U);var n=this._modalContent.getBoundingClientRect(),a=B(n),o=this._modalContent.animate(a,U);o.onfinish=function(){var a=window.innerWidth/2-n.width/2;t._modalContent.style.transform="translate(".concat(a,"px , 180px)"),e()},o.play()}},{key:"startAnimation",value:function(){}},{key:"componentDidEnter",value:function(){this._modal.classList.add("active")}},{key:"componentDidAppear",value:function(){this._modal.classList.add("active")}},{key:"componentWillLeave",value:function(e){this._modalBackdrop.animate([].concat(I).reverse(),U);var t=this._modalContent.getBoundingClientRect(),n=B(t),a=this._modalContent.animate(Object(w.a)(n).reverse(),U);a.onfinish=e,a.play()}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&window.history.back()}},{key:"render",value:function(){var e=this,t=this.state.active?"active":"",n=this.props,a=n.note,i=n.onUpdate,c=n.onDelete;return o.a.createElement("div",{ref:this.setWrapperRef},o.a.createElement("div",{className:"box-fill modal ".concat(t),ref:function(t){return e._modal=t}},o.a.createElement("div",{className:"box-fill modal-backdrop",ref:function(t){return e._modalBackdrop=t},onClick:this.startAnimation}),o.a.createElement("div",{className:"modal-content",ref:function(t){return e._modalContent=t}},o.a.createElement(A,{note:a,isEdit:!0,onSubmit:i,onDelete:c}))))}}]),t}(a.Component)),T=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.onUpdate,a=e.onDelete;return o.a.createElement(N.a,{path:"/notes/:noteId",children:function(e){var i,c=e.match;Object(j.a)(e,["match"]);return c&&(i=t.find((function(e){return e.key===c.params.noteId}))),o.a.createElement(E.TransitionGroup,{component:"div",className:"animated-list"},c&&i&&o.a.createElement(L,{onUpdate:n,onDelete:a,note:i}))}})}}]),t}(a.Component),z=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).updateData=function(e){var t=[],a=Object(d.a)(n);e.forEach((function(e){var n=e.data(),a=n.title,o=n.content;t.push({key:e.id,doc:e,title:a,content:o})})),a.setState({notes:t,loading:!0})},n.handleAddNote=function(e){var t=e.title,a=e.content;n.ref.add({title:t,content:a}).then((function(e){n.setState({title:"",content:""}),n.props.history.push("/")})).catch((function(e){console.error("Error adding note: ",e)})),console.log(e)},n.handleUpdateNote=function(e){var t=m.firestore().collection("notes").doc(e.key),n=e.title,a=e.content;t.set({title:n,content:a}).then((function(e){console.log("Note successfully updated"),window.history.back()})).catch((function(e){console.error("Error adding document: ",e)}))},n.handleDeleteNote=function(e){m.firestore().collection("notes").doc(e.key).delete().then((function(){console.log("Note successfully deleted!"),window.history.back()})).catch((function(e){console.error("Error removing note: ",e)}))},n.handleDeleteNote=n.handleDeleteNote.bind(Object(d.a)(n)),n.handleAddNote=n.handleAddNote.bind(Object(d.a)(n)),n.ref=m.firestore().collection("notes"),n.state={notes:[],loading:!0},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({notes:[]}),this.ref.onSnapshot(this.updateData)}},{key:"render",value:function(){var e=this.state.notes;return o.a.createElement("div",{className:"App"},o.a.createElement(A,{onSubmit:this.handleAddNote}),o.a.createElement(g,{notes:e,onDelete:this.handleDeleteNote}),o.a.createElement(T,{onUpdate:this.handleUpdateNote,onDelete:this.handleDeleteNote,notes:e,location:this.props.location}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement((function(){return o.a.createElement(y.a,null,o.a.createElement(N.a,{path:"/",component:z}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,n){e.exports=n(251)}},[[98,1,2]]]);
//# sourceMappingURL=main.de1fcffb.chunk.js.map